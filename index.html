<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Words Separator App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 900px;
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .description {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .app-content {
            padding: 25px;
        }
        
        .input-section {
            margin-bottom: 25px;
        }
        
        textarea {
            width: 100%;
            height: 120px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            resize: none;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #6a11cb;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .save-btn {
            background: linear-gradient(to right, #2ecc71, #27ae60);
        }
        
        .output-section {
            margin-top: 20px;
        }
        
        .output-title {
            font-size: 1.3rem;
            color: #444;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .words-container {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .word-box {
            width: 140px;
            padding: 12px;
            border-radius: 8px;
            background-color: #f8f9fa;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
            transition: transform 0.2s;
        }
        
        .word-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .word {
            font-weight: bold;
            color: #2575fc;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .pos {
            font-size: 12px;
            color: #6c757d;
            margin-bottom: 8px;
            text-transform: uppercase;
        }
        
        .translation-input {
            width: 100%;
            padding: 8px;
            border: 1px dashed #adb5bd;
            border-radius: 4px;
            font-size: 14px;
            text-align: center;
            background-color: white;
        }
        
        .translation-input:focus {
            outline: none;
            border-color: #6a11cb;
            border-style: solid;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
        }
        
        .color-box {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }
        
        .noun { background-color: #ff9aa2; }
        .verb { background-color: #ffb7b2; }
        .adj { background-color: #ffdac1; }
        .adv { background-color: #e2f0cb; }
        .other { background-color: #b5ead7; }
        
        .instructions {
            background-color: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            font-size: 14px;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            background-color: #f8f9fa;
            color: #6c757d;
            font-size: 14px;
        }
        
        .save-section {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
            text-align: center;
        }
        
        .save-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background: #2ecc71;
            color: white;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transform: translateX(200%);
            transition: transform 0.3s ease;
            z-index: 1000;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .language-selector {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 15px 0;
            align-items: center;
        }
        
        select {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #ddd;
        }
        
        .translation-hint {
            font-size: 11px;
            color: #6c757d;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Words Separator App</h1>
            <p class="description">Separate sentences into words with parts of speech and translations</p>
        </header>
        
        <div class="app-content">
            <div class="input-section">
                <textarea id="inputText" placeholder="Enter a sentence to analyze...">The quick brown fox jumps over the lazy dog</textarea>
                <div class="language-selector">
                    <span>Translate to:</span>
                    <select id="languageSelect">
                        <option value="es">Spanish</option>
                        <option value="fr">French</option>
                        <option value="de">German</option>
                        <option value="it">Italian</option>
                        <option value="pt">Portuguese</option>
                        <option value="custom">Custom (Write your own)</option>
                    </select>
                </div>
                <div class="buttons">
                    <button id="processBtn">
                        <i class="fas fa-cogs"></i> Process Sentence
                    </button>
                    <button id="resetBtn">
                        <i class="fas fa-redo"></i> Reset
                    </button>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong>How to use:</strong> Enter a sentence and click "Process Sentence". The app will separate words and identify parts of speech. You can write your translations in the input boxes below each word. All translation fields are fully editable.</p>
            </div>
            
            <div class="output-section">
                <h2 class="output-title">Word Analysis</h2>
                <div id="wordsContainer" class="words-container">
                    <!-- Words will be generated here -->
                </div>
                
                <div class="legend">
                    <div class="legend-item"><div class="color-box noun"></div> Noun</div>
                    <div class="legend-item"><div class="color-box verb"></div> Verb</div>
                    <div class="legend-item"><div class="color-box adj"></div> Adjective</div>
                    <div class="legend-item"><div class="color-box adv"></div> Adverb</div>
                    <div class="legend-item"><div class="color-box other"></div> Other</div>
                </div>
            </div>
            
            <div class="save-section">
                <h3>Save Your Translations</h3>
                <p>Export your word translations to a file for future reference</p>
                <div class="save-options">
                    <button id="saveTxtBtn" class="save-btn">
                        <i class="fas fa-file-alt"></i> Save as TXT
                    </button>
                    <button id="saveCsvBtn" class="save-btn">
                        <i class="fas fa-file-csv"></i> Save as CSV
                    </button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Words Separator App &copy; 2023 | Analyze and translate text with ease</p>
        </footer>
    </div>

    <div class="notification" id="notification">
        File downloaded successfully!
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const processBtn = document.getElementById('processBtn');
            const resetBtn = document.getElementById('resetBtn');
            const inputText = document.getElementById('inputText');
            const wordsContainer = document.getElementById('wordsContainer');
            const saveTxtBtn = document.getElementById('saveTxtBtn');
            const saveCsvBtn = document.getElementById('saveCsvBtn');
            const notification = document.getElementById('notification');
            const languageSelect = document.getElementById('languageSelect');
            
            let analyzedWords = [];
            
            // Sample translations database
            const translations = {
                'the': {es: 'el/la', fr: 'le/la', de: 'der/die/das', it: 'il/la', pt: 'o/a'},
                'quick': {es: 'rápido', fr: 'rapide', de: 'schnell', it: 'veloce', pt: 'rápido'},
                'brown': {es: 'marrón', fr: 'marron', de: 'braun', it: 'marrone', pt: 'marrom'},
                'fox': {es: 'zorro', fr: 'renard', de: 'Fuchs', it: 'volpe', pt: 'raposa'},
                'jumps': {es: 'salta', fr: 'saute', de: 'springt', it: 'salta', pt: 'salta'},
                'over': {es: 'sobre', fr: 'par-dessus', de: 'über', it: 'sopra', pt: 'sobre'},
                'lazy': {es: 'perezoso', fr: 'paresseux', de: 'faul', it: 'pigro', pt: 'preguiçoso'},
                'dog': {es: 'perro', fr: 'chien', de: 'Hund', it: 'cane', pt: 'cão'},
                'is': {es: 'es', fr: 'est', de: 'ist', it: 'è', pt: 'é'},
                'are': {es: 'son', fr: 'sont', de: 'sind', it: 'sono', pt: 'são'},
                'this': {es: 'este/esta', fr: 'ce/cette', de: 'dies', it: 'questo/questa', pt: 'este/esta'},
                'that': {es: 'ese/esa', fr: 'ce/cette', de: 'das', it: 'quel/quella', pt: 'esse/essa'},
                'hello': {es: 'hola', fr: 'bonjour', de: 'hallo', it: 'ciao', pt: 'olá'},
                'world': {es: 'mundo', fr: 'monde', de: 'Welt', it: 'mondo', pt: 'mundo'},
                'cat': {es: 'gato', fr: 'chat', de: 'Katze', it: 'gatto', pt: 'gato'},
                'run': {es: 'correr', fr: 'courir', de: 'rennen', it: 'correre', pt: 'correr'},
                'beautiful': {es: 'hermoso', fr: 'beau', de: 'schön', it: 'bello', pt: 'belo'},
                'slowly': {es: 'lentamente', fr: 'lentement', de: 'langsam', it: 'lentamente', pt: 'lentamente'}
            };
            
            // Parts of speech database
            const partsOfSpeech = {
                'the': 'determiner',
                'quick': 'adjective',
                'brown': 'adjective',
                'fox': 'noun',
                'jumps': 'verb',
                'over': 'preposition',
                'lazy': 'adjective',
                'dog': 'noun',
                'is': 'verb',
                'are': 'verb',
                'this': 'determiner',
                'that': 'determiner',
                'hello': 'interjection',
                'world': 'noun',
                'cat': 'noun',
                'run': 'verb',
                'beautiful': 'adjective',
                'slowly': 'adverb'
            };
            
            // Process the sentence
            processBtn.addEventListener('click', function() {
                const sentence = inputText.value.trim();
                if (!sentence) {
                    alert('Please enter a sentence');
                    return;
                }
                
                // Clear previous results
                wordsContainer.innerHTML = '';
                analyzedWords = [];
                
                // Split into words
                const words = sentence.split(/\s+/);
                const selectedLanguage = languageSelect.value;
                
                // Create word boxes
                words.forEach(word => {
                    const cleanWord = word.replace(/[.,!?;:"]/g, '').toLowerCase();
                    const pos = partsOfSpeech[cleanWord] || 'other';
                    
                    // Get translation if available
                    let translation = '';
                    if (translations[cleanWord] && selectedLanguage !== 'custom') {
                        translation = translations[cleanWord][selectedLanguage] || '';
                    }
                    
                    // Store word data
                    analyzedWords.push({
                        original: word,
                        clean: cleanWord,
                        translation: translation,
                        pos: pos
                    });
                    
                    const wordBox = document.createElement('div');
                    wordBox.className = 'word-box';
                    
                    const wordEl = document.createElement('div');
                    wordEl.className = 'word';
                    wordEl.textContent = word;
                    
                    const posEl = document.createElement('div');
                    posEl.className = `pos ${getPosClass(pos)}`;
                    posEl.textContent = pos;
                    
                    const translationInput = document.createElement('input');
                    translationInput.type = 'text';
                    translationInput.className = 'translation-input';
                    translationInput.placeholder = 'Enter translation...';
                    translationInput.value = translation;
                    
                    // Add hint for words like "the" that have multiple translations
                    if (cleanWord === 'the') {
                        const hint = document.createElement('div');
                        hint.className = 'translation-hint';
                        hint.textContent = 'e.g., el/la (Spanish)';
                        wordBox.appendChild(hint);
                    }
                    
                    // Update the data model when translation changes
                    translationInput.addEventListener('input', function() {
                        const index = Array.from(wordsContainer.children).indexOf(wordBox);
                        if (index !== -1) {
                            analyzedWords[index].translation = this.value;
                        }
                    });
                    
                    wordBox.appendChild(wordEl);
                    wordBox.appendChild(posEl);
                    wordBox.appendChild(translationInput);
                    
                    wordsContainer.appendChild(wordBox);
                });
            });
            
            // Reset the app
            resetBtn.addEventListener('click', function() {
                inputText.value = '';
                wordsContainer.innerHTML = '';
                analyzedWords = [];
                inputText.focus();
            });
            
            // Save as TXT
            saveTxtBtn.addEventListener('click', function() {
                if (analyzedWords.length === 0) {
                    alert('Please process a sentence first');
                    return;
                }
                
                let content = 'Word Translation Results\n';
                content += '=========================\n\n';
                content += `Original Sentence: ${inputText.value}\n`;
                content += `Translation Language: ${languageSelect.options[languageSelect.selectedIndex].text}\n\n`;
                
                content += 'Word Translations:\n';
                content += '------------------\n';
                
                analyzedWords.forEach(word => {
                    content += `${word.original} (${word.pos}) -> ${word.translation || '[Not translated]'}\n`;
                });
                
                downloadFile(content, 'word-translations.txt', 'text/plain');
                showNotification();
            });
            
            // Save as CSV
            saveCsvBtn.addEventListener('click', function() {
                if (analyzedWords.length === 0) {
                    alert('Please process a sentence first');
                    return;
                }
                
                let content = 'Original Word,Part of Speech,Translation\n';
                
                analyzedWords.forEach(word => {
                    content += `"${word.original}","${word.pos}","${word.translation || ''}"\n`;
                });
                
                downloadFile(content, 'word-translations.csv', 'text/csv');
                showNotification();
            });
            
            // Helper function to get POS class for styling
            function getPosClass(pos) {
                if (pos.includes('noun')) return 'noun';
                if (pos.includes('verb')) return 'verb';
                if (pos.includes('adjective')) return 'adj';
                if (pos.includes('adverb')) return 'adv';
                return 'other';
            }
            
            // Helper function to download a file
            function downloadFile(content, fileName, contentType) {
                const blob = new Blob([content], { type: contentType });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = fileName;
                a.click();
                URL.revokeObjectURL(url);
            }
            
            // Show notification
            function showNotification() {
                notification.classList.add('show');
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            // Process the example sentence on load
            setTimeout(() => processBtn.click(), 500);
        });
    </script>
</body>
</html>